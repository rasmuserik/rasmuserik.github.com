<!doctype html>
<html>
	<head>
		<title>JS1k, 1k demo submission [ID]</title>
		<meta charset="utf-8" />
	</head>
	<body>
		<canvas id="c"></canvas>
		<script>
			var b = document.body;
			var c = document.getElementsByTagName('canvas')[0];
			var a = c.getContext('2d');
			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218
		</script>
		<script>
// start of submission //
/*
a canvas 2d context
b document body
c canvas element
d frame buffer
f main function
20 player 
t temporary
p

navigation on a/s and h/j
*/
w=300;
h=150;
d=a.getImageData(0,0,w,h);
b.onkeydown=f;
directions = [-w, 1, w, -1];
p1=p2=w*h/2;
d1=1;d2=-1;
a.fillRect(1,1,w-2,h-2);
function f(s) {
    console.log(s);
    s=s.which||0;
    console.log(s&8,s&4,s&2,s&1)
    t=s&2?1:-1;
    console.log(s&&s&1?s&2?d1--:d1++:s&2?d2++:d2--);
    console.log(d1, d2,p1,p2);
d=a.getImageData(0,0,w,h);
p1+=directions[d1%4];
p2+=directions[d2%4];
d[p1*4]=0;
d[p2*4]=0;
a.putImageData(d,0,0)
}


//(t=c.style).height="95%";t.width="95%";c.width=c.height=s=256;d=a.getImageData(0,0,s,s);e=d.data;g=[];h=[];function f(){j=g;g=h;h=j;t=Math.random()*s*s|0;g[t]=u=127;g[t+1]=u;g[t+2]=u;g[s+t+1]=u;g[512+t+1]=u;a.putImageData(d,0,0);for(i=s*s;i--;i){h[i]=((g[i-1]+g[i+1]+g[i-s]+g[i+s])/2-h[i])*.99||0;e[i*4+3]=255;e[i*4+2]=255&(u+g[i]-g[i-257]);}setTimeout(f,9);}f();
// end of submission //
		</script>
	</body>
</html>
